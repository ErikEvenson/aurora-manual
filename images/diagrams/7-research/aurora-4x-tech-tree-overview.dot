// Aurora 4X Tech Tree Overview - Categories and Weapon Branching
// Removed redundant engine chain (shown in Figure 7.1.3)

digraph TechTreeStructure {
    bgcolor="#1a1a2e"
    fontname="Helvetica"
    fontcolor="white"
    label="Figure 7.1.1: Aurora Research Categories and Weapon Branching"
    labelloc=t
    fontsize=14
    rankdir=TB
    nodesep=0.6
    ranksep=0.8

    node [
        fontname="Helvetica"
        fontsize=10
        fontcolor="white"
        color="#4ecdc4"
        fillcolor="#2d2d44"
        style="filled,rounded"
        shape=box
    ]

    edge [
        fontname="Helvetica"
        fontsize=9
        fontcolor="#888888"
        color="#4ecdc4"
        arrowsize=0.8
    ]

    // Nine Research Categories cluster
    subgraph cluster_categories {
        label="Nine Research Categories"
        fontcolor="#888888"
        color="#4ecdc4"
        style="dashed"

        cat1 [label="1. Power and\nPropulsion" fillcolor="#ff6b6b"]
        cat2 [label="2. Sensors and\nControl Systems" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        cat3 [label="3. Direct Fire\nWeapons" fillcolor="#ff6b6b"]
        cat4 [label="4. Missiles" fillcolor="#ff6b6b"]
        cat5 [label="5. Construction /\nProduction" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
        cat6 [label="6. Logistics" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
        cat7 [label="7. Defensive\nSystems" fillcolor="#4ecdc4" fontcolor="#1a1a2e"]
        cat8 [label="8. Biology /\nGenetics" fillcolor="#9b59b6"]
        cat9 [label="9. Ground\nCombat" fillcolor="#9b59b6"]

        // Arrange in a row
        {rank=same; cat1; cat2; cat3; cat4; cat5; cat6; cat7; cat8; cat9}
    }

    // Weapon Branching (Direct Fire Weapons)
    subgraph cluster_weapons {
        label="Weapon Branching (Direct Fire Weapons)"
        fontcolor="#888888"
        color="#ffe66d"
        style="dashed"

        base_weapon [label="Base Weapon\nTechnology"]

        // All weapon types with TechTypeIDs
        laser_branch [label="Lasers\n(Focal Size)\nTechType 60" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        wavelength [label="Wavelengths\nTechType 3" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        particle_branch [label="Particle\nBeams\nTechType 72" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        meson_branch [label="Mesons\nTechType 76" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        railgun_branch [label="Railguns\nTechType 136" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        gauss_branch [label="Gauss\nCannons\nTechType 138" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        plasma_branch [label="Plasma\nCarronades\nTechType 148" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        microwave_branch [label="Microwave\nWeapons\nTechType 150" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
    }

    // Cross-Category Dependencies
    subgraph cluster_cross {
        label="Cross-Category Dependencies"
        fontcolor="#888888"
        color="#95d5b2"
        style="dashed"

        tn_tech [label="Trans-Newtonian\nTechnology\n5,000 RP\n(Required by Most)" fillcolor="#95d5b2" fontcolor="#1a1a2e"]

        em_sensor [label="EM Sensor\nSensitivity\n(Sensors)" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        prev_elint [label="Previous\nELINT\n(Sensors)"]
        elint [label="ELINT\nModules"]
    }

    // Weapon branching edges
    cat3 -> base_weapon [style=dashed color="#888888" label="unlocks"]
    base_weapon -> laser_branch [color="#ffe66d"]
    base_weapon -> particle_branch [color="#ffe66d"]
    base_weapon -> meson_branch [color="#ffe66d"]
    base_weapon -> railgun_branch [color="#ffe66d"]
    base_weapon -> gauss_branch [color="#ffe66d"]
    base_weapon -> plasma_branch [color="#ffe66d"]
    base_weapon -> microwave_branch [color="#ffe66d"]

    laser_branch -> wavelength [color="#ffe66d" label="combines\nwith"]

    // Cross-category edges
    tn_tech -> cat1 [style=dashed color="#95d5b2" label="prerequisite"]
    tn_tech -> cat2 [style=dashed color="#95d5b2"]
    tn_tech -> cat3 [style=dashed color="#95d5b2"]

    em_sensor -> elint [color="#ffe66d" label="requires"]
    prev_elint -> elint [color="#4ecdc4" label="requires"]

    // Legend
    subgraph cluster_legend {
        label="Legend"
        fontcolor="#888888"
        color="#666666"
        style="dashed"

        leg1 [label="Red: Combat-related (Weapons, Engines)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#ff6b6b"]
        leg2 [label="Yellow: Sensors and Fire Control" shape=box fillcolor="#2d2d44" style=filled fontcolor="#ffe66d"]
        leg3 [label="Green: Economy (Construction, Logistics)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#95d5b2"]
        leg4 [label="Cyan: Defensive Systems" shape=box fillcolor="#2d2d44" style=filled fontcolor="#4ecdc4"]
        leg5 [label="Purple: Biology and Ground Combat" shape=box fillcolor="#2d2d44" style=filled fontcolor="#9b59b6"]
    }
}
