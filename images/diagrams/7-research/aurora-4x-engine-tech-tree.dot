// Aurora 4X Engine Technology Progression
// Reduced dimensions, focused layout

digraph EngineProgression {
    bgcolor="#1a1a2e"
    fontname="Helvetica"
    fontcolor="white"
    label="Figure 7.1.3: Engine Technology Progression with Cumulative RP Cost"
    labelloc=t
    fontsize=12
    rankdir=TB
    nodesep=0.4
    ranksep=0.5

    // Compact graph
    size="9,12"
    ratio="compress"

    node [
        fontname="Helvetica"
        fontsize=8
        fontcolor="white"
        color="#4ecdc4"
        fillcolor="#2d2d44"
        style="filled,rounded"
        shape=box
        width=1.4
        height=0.5
    ]

    edge [
        fontname="Helvetica"
        fontsize=7
        fontcolor="#888888"
        arrowsize=0.6
    ]

    // Early Game cluster
    subgraph cluster_early {
        label="Early Game (< 10,000 RP)"
        fontcolor="#888888"
        fontsize=10
        color="#95d5b2"
        style="dashed"

        conv [label="Conventional\n500 RP | 1.0x\nCumulative: 500" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
        nuc_radio [label="Nuclear Radioisotope\n1,000 RP | 5.0x\nCumulative: 1,500" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
        nuc_therm [label="Nuclear Thermal\n2,000 RP | 6.4x\nCumulative: 3,500" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
        nuc_pulse [label="Nuclear Pulse\n4,000 RP | 8.0x\nCumulative: 7,500" fillcolor="#95d5b2" fontcolor="#1a1a2e"]
    }

    // Mid Game cluster
    subgraph cluster_mid {
        label="Mid Game (10,000 - 100,000 RP)"
        fontcolor="#888888"
        fontsize=10
        color="#ffe66d"
        style="dashed"

        nuc_gas [label="Nuclear Gas-Core\n6,000 RP | 10.0x\nCumulative: 13,500" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        ion [label="Ion Drive\n10,000 RP | 12.5x\nCumulative: 23,500" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        magneto [label="Magneto-plasma\n20,000 RP | 16.0x\nCumulative: 43,500" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
        mcf [label="Magnetic Fusion\n40,000 RP | 20.0x\nCumulative: 83,500" fillcolor="#ffe66d" fontcolor="#1a1a2e"]
    }

    // Late Game cluster
    subgraph cluster_late {
        label="Late Game (100,000 - 1,000,000 RP)"
        fontcolor="#888888"
        fontsize=10
        color="#ff6b6b"
        style="dashed"

        icf [label="Inertial Fusion\n80,000 RP | 25.0x\nCumulative: 163,500" fillcolor="#ff6b6b"]
        sc_am [label="Solid-Core AM\n150,000 RP | 32.0x\nCumulative: 313,500" fillcolor="#ff6b6b"]
        gc_am [label="Gas-Core AM\n300,000 RP | 40.0x\nCumulative: 613,500" fillcolor="#ff6b6b"]
        pc_am [label="Plasma-Core AM\n600,000 RP | 50.0x\nCumulative: 1,213,500" fillcolor="#ff6b6b"]
    }

    // Endgame cluster
    subgraph cluster_endgame {
        label="Endgame (> 1,000,000 RP)"
        fontcolor="#888888"
        fontsize=10
        color="#9b59b6"
        style="dashed"

        bc_am [label="Beam-Core AM\n1,250,000 RP | 64.0x\nCumulative: 2,463,500" fillcolor="#9b59b6"]
        photonic [label="Photonic Drive\n2,500,000 RP | 80.0x\nCumulative: 4,963,500" fillcolor="#9b59b6"]
        quantum [label="Quantum Singularity\n5,000,000 RP | 100.0x\nCumulative: 9,963,500" fillcolor="#9b59b6"]
    }

    // Progression edges
    conv -> nuc_radio [color="#95d5b2"]
    nuc_radio -> nuc_therm [color="#95d5b2"]
    nuc_therm -> nuc_pulse [color="#95d5b2"]
    nuc_pulse -> nuc_gas [color="#ffe66d"]
    nuc_gas -> ion [color="#ffe66d"]
    ion -> magneto [color="#ffe66d"]
    magneto -> mcf [color="#ffe66d"]
    mcf -> icf [color="#ff6b6b"]
    icf -> sc_am [color="#ff6b6b"]
    sc_am -> gc_am [color="#ff6b6b"]
    gc_am -> pc_am [color="#ff6b6b"]
    pc_am -> bc_am [color="#9b59b6"]
    bc_am -> photonic [color="#9b59b6"]
    photonic -> quantum [color="#9b59b6"]

    // Milestones (side annotations)
    subgraph cluster_milestones {
        label="Strategic Milestones"
        fontcolor="#888888"
        fontsize=10
        color="#666666"
        style="dashed"

        m1 [label="5x Power Jump\nConventional -> Nuclear\n(First major upgrade)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#95d5b2"]
        m2 [label="20x Power\nMagnetic Fusion\n(Mid-game competitive)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#ffe66d"]
        m3 [label="50x Power\nPlasma-Core AM\n(Late-game dominance)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#ff6b6b"]
        m4 [label="100x Power\nQuantum Singularity\n(Ultimate engine)" shape=box fillcolor="#2d2d44" style=filled fontcolor="#9b59b6"]
    }

    // Legend
    subgraph cluster_legend {
        label="Legend"
        fontcolor="#888888"
        fontsize=10
        color="#666666"
        style="dashed"

        leg1 [label="Format: Tech Name | This Level RP | Power Multiplier" shape=box fillcolor="#2d2d44" style=filled]
        leg2 [label="Power doubles approximately every 3 levels (~25-28% per level)" shape=box fillcolor="#2d2d44" style=filled]
    }
}
