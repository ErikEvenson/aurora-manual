# Appendix A: Formulas

This appendix collects the key mathematical formulas that govern Aurora C# mechanics. Understanding these calculations helps with ship design optimization, fleet planning, and economic development.

## A.1 Movement and Speed

For detailed ship design context, see [Section 8.3 Engines](../8-ship-design/8.3-engines.md).

### Ship Speed

The fundamental speed formula for any vessel:

```
Speed (km/s) = Total_Engine_Power / Ship_Mass (tons)
```

Where:

- **Total_Engine_Power** = Number_of_Engines x Engine_Power_per_Unit
- **Ship_Mass** = Hull_Size + Armor_Mass + Component_Mass + Cargo/Fuel_Mass

**Example**: A 10,000-ton ship with two engines producing 2,500 EP each:
```
Speed = (2 x 2500) / 10000 = 0.5 km/s per EP...
Speed = 5000 EP / 10000 tons = 500 km/s (if engines use Power x50 modifier)
```

The actual speed depends on your engine technology. Engine power is calculated as:

```
Engine_Power = Engine_Size (HS) x Power_per_HS x Boost_Modifier
```

Where:

- **Power_per_HS** is determined by engine technology research (starts at 5, increases with tech)
- **Boost_Modifier** ranges from 0.5x to 3.0x (higher boost = more power but reduced fuel efficiency)

### Fuel Consumption

```
Fuel_per_Hour = Total_Engine_Power x Fuel_Consumption_Rate x Boost_Penalty
```

Where:

- **Fuel_Consumption_Rate** is determined by fuel consumption technology (base 1.0, reduced by research)
- **Boost_Penalty** is exponential: 1x boost = 1.0, 1.5x boost = ~2.25, 2x boost = ~4.0, 3x boost = ~9.0

### Range Calculation

```
Range (km) = Fuel_Capacity / Fuel_per_Hour x 3600 x Speed
```

Or equivalently:
```
Range (billion km) = Fuel_Capacity / (Fuel_per_Hour x 1000000)
```

### Time to Destination

```
Time (seconds) = Distance (km) / Speed (km/s)
```

For jump point transits, add the transit time (typically instantaneous for military jump drives, or 5 minutes for commercial jump drives including squadron transit).

### Missile Speed

```
Missile_Speed (km/s) = Missile_Engine_Power / Missile_Mass
```

Missile engines are typically much more powerful per unit mass than ship engines but have limited fuel duration:

```
Missile_Endurance (seconds) = Missile_Fuel / Missile_Fuel_Consumption
Missile_Range (km) = Missile_Speed x Missile_Endurance
```

### Missile Agility (MSP-based)

```
Agility = Engine_MSP / Total_Missile_MSP x Agility_Tech_Modifier x 100
```

Higher agility improves hit chance against maneuvering targets and makes the missile harder to intercept with point defense.

## A.2 Sensor Range

For detailed sensor design and usage, see [Section 11.1 Thermal and EM Signatures](../11-sensors-and-detection/11.1-thermal-em-signatures.md).

### Passive Sensor Detection (Thermal)

```
Detection_Range (km) = Sensor_Sensitivity x Target_Thermal_Signature x 10000
```

Where:

- **Sensor_Sensitivity** = Sensor_Size (HS) x Sensitivity_Tech_Level
- **Target_Thermal_Signature** = Total_Engine_Power / Thermal_Reduction_Tech

A ship's thermal signature is primarily determined by its engines:
```
Thermal_Signature = Total_Engine_Power / Thermal_Reduction_Modifier
```

### Passive Sensor Detection (EM)

```
Detection_Range (km) = Sensor_Sensitivity x Target_EM_Signature x 10000
```

Where:

- **Target_EM_Signature** is generated by active sensors, shields, and certain other components when active

Ships with no active emissions (shields off, active sensors off) have EM signature of 0 and are invisible to EM sensors.

### Active Sensor Detection

```
Detection_Range (km) = sqrt(Sensor_Strength x Target_Cross_Section) x 10000
```

Where:

- **Sensor_Strength** = Sensor_Size (HS) x Resolution x Active_Tech_Level
- **Target_Cross_Section** = Ship_Size (tons) / 50 (for the sensor's resolution)

A sensor designed for resolution-100 detects 5000-ton ships at full range. Smaller ships are detected at reduced range:

```
Effective_Range = Base_Range x sqrt(Actual_Ship_HS / Sensor_Resolution)
```

**Example**: A sensor with 100M km range at resolution-100 detecting a resolution-20 ship:
```
Effective_Range = 100M x sqrt(20/100) = 100M x 0.447 = 44.7M km
```

### Missile Fire Control Range

```
FC_Range (km) = FC_Size x Resolution x FC_Tech_Level x 10000
```

The fire control range limits the maximum engagement distance for missiles. Missiles beyond their fire control's range lose guidance.

### Cloaking Effect on Detection

```
Effective_Signature = Actual_Signature x (1 - Cloak_Percentage/100)
```

A 60% cloak reduces all signatures to 40% of their actual value, reducing detection range proportionally.

## A.3 Production

For colony production management, see [Section 6.3 Construction](../6-economy-and-industry/6.3-construction.md).

### Construction Factory Output

```
Annual_BP = Num_Factories x BP_per_Factory x (1 + Governor_Manufacturing x 0.05)
```

Standard BP per factory = 10/year (increased by Construction Rate technology):

| Technology Level | BP per Factory |
|-----------------|----------------|
| Base | 10 |
| Improved (1) | 12 |
| Advanced (2) | 16 |
| Expert (3) | 24 |
| Master (4) | 32 |

### Mineral Mining Output

```
Annual_Tons_per_Mine = Base_Production x Accessibility x Tech_Modifier
```

Where Base_Production = 10 tons/year per mine. Mining technology progression:

| Technology Level | Tons/Mine/Year | Research Cost (RP) |
|-----------------|---------------|-------------------|
| Base | 10 | -- |
| 1 | 12 | 3,000 |
| 2 | 14 | 5,000 |
| 3 | 16 | 10,000 |
| 4 | 20 | 20,000 |
| 5 | 25 | 40,000 |
| 6 | 30 | 80,000 |
| 7 | 36 | 150,000 |
| 8 | 42 | 300,000 |
| 9 | 50 | 600,000 |
| 10 | 60 | 1,250,000 |
| 11 | 70 | 2,500,000 |

### Terraforming Rate

```
Atm_Change_per_Year = Num_Installations x Terraform_Rate x Gas_Modifier
```

Where:

- **Terraform_Rate** depends on the technology level of terraforming installations
- **Gas_Modifier** varies by the gas being added or removed (some gases terraform faster than others)

Terraforming rate technology progression (from game database):

| Technology Level | Rate (atm/year) | Research Cost (RP) |
|-----------------|-----------------|-------------------|
| Racial Starting Rate | 0.00025 | â€” |
| Terraforming Rate 1 | 0.00032 | 3,000 |
| Terraforming Rate 2 | 0.0004 | 5,000 |
| Terraforming Rate 3 | 0.00048 | 10,000 |
| Terraforming Rate 4 | 0.0006 | 20,000 |
| Terraforming Rate 5 | 0.00075 | 40,000 |
| Terraforming Rate 6 | 0.00096 | 80,000 |
| Terraforming Rate 7 | 0.0012 | 150,000 |
| Terraforming Rate 8 | 0.0015 | 300,000 |
| Terraforming Rate 9 | 0.0019 | 600,000 |
| Terraforming Rate 10 | 0.0024 | 1,200,000 |
| Terraforming Rate 11 | 0.003 | 2,500,000 |
| Terraforming Rate 12 | 0.00375 | 5,000,000 |

### Shipyard Build Time

```
Build_Time (days) = Ship_BP_Cost / (Shipyard_Capacity / 365) / Num_Slipways
```

But note: a single ship can only be built in one slipway. Multiple slipways allow parallel construction of multiple ships, not faster construction of a single ship.

Retooling time when changing ship class:
```
Retool_Time (days) = abs(New_Ship_Tonnage - Old_Ship_Tonnage) x Retool_Factor
```

### Research Speed

```
Days_to_Complete = Research_Cost / (Daily_RP_Output)
Daily_RP_Output = Sum_of_All_Labs_on_Project / 365
```

With diminishing returns for multiple labs:
```
Effective_Labs = Lab_1 + Lab_2 x 0.5 + Lab_3 x 0.25 + Lab_4 x 0.125 + ...
RP_per_Year = Effective_Labs x 10 x (1 + Scientist_Skill x 0.2)
```

### Fuel Refinery Output

```
Fuel_per_Year = Num_Refineries x Base_Output_per_Refinery (litres)
```

Refinery technology progression:

| Technology Level | Output (litres/year) | Research Cost (RP) |
|-----------------|---------------------|-------------------|
| Base | 40,000 | -- |
| 1 | 48,000 | 3,000 |
| 2 | 56,000 | 5,000 |
| 3 | 64,000 | 10,000 |
| 4 | 80,000 | 20,000 |
| 5 | 100,000 | 40,000 |
| 6 | 120,000 | 80,000 |
| 7 | 144,000 | 150,000 |
| 8 | 168,000 | 300,000 |
| 9 | 200,000 | 600,000 |
| 10 | 240,000 | 1,250,000 |
| 11 | 280,000 | 2,500,000 |

## A.4 Combat

For tactical combat details, see [Section 12.1 Fire Controls](../12-combat/12.1-fire-controls.md).

### Beam Weapon To-Hit

```
Base_Chance = (1 - Range/Max_Range) x 100%
Tracking_Mod = min(1.0, Tracking_Speed / Target_Speed)
ECM_Mod = max(0, 1 - (Target_ECM - FC_ECCM) x 0.1)
Final_Chance = Base_Chance x Tracking_Mod x ECM_Mod
```

**Example**: Laser at 50% of max range, tracking 5000 km/s vs target at 4000 km/s, target ECM-2 vs FC ECCM-1:
```
Base = (1 - 0.5) x 100 = 50%
Tracking = min(1.0, 5000/4000) = 1.0
ECM = max(0, 1 - (2-1) x 0.1) = 0.9
Final = 50% x 1.0 x 0.9 = 45%
```

### Beam Weapon Damage

Damage varies by weapon type and range:

| Weapon Type | Damage Pattern |
|-------------|---------------|
| Laser | Full damage at all ranges |
| Railgun | Damage x 3 (ignores 3 armor layers) |
| Particle Beam | Full damage, range-limited |
| Meson Cannon | Bypasses armor/shields entirely |
| Plasma Carronade | Damage x 3 at close range, short max range |
| Gauss Cannon | 1 damage per shot, very high rate of fire |

### Armor Damage

```
Armor_Columns = Ship_Width (proportional to tonnage)
Damage_per_Column = Weapon_Damage (applied to random column)
Penetration = Damage_Applied > Remaining_Armor_at_Column
```

Armor column count scales with ship size:
```
Num_Columns = Ship_Tonnage / Column_Factor
```

### Internal Damage

When armor at a column is breached:
```
Component_Hit_Chance = Component_HTK / Total_Internal_HTK
Damage_to_Component = 1 HTK per hit
Component_Destroyed when Current_HTK = 0
```

### Magazine Explosion

```
Explosion_Damage = Sum(All_Missile_Warhead_Strengths_in_Magazine)
```

Applied to the host ship first, excess may damage nearby vessels within blast radius.

### Missile Point Defense

For each PD weapon firing at incoming missiles:
```
Intercept_Chance = (1 - Range/Max_Range) x Tracking_Mod x 100%
```

Where Tracking_Mod for PD against missiles:
```
Tracking_Mod = min(1.0, PD_Tracking / Missile_Speed)
```

CIWS (Close-In Weapon Systems) fire at range 0 (final defense), making their base chance very high, but they must track the missile's speed.

### Shield Regeneration

```
Recharge_per_5sec = Regeneration_Tech_Level x Generator_Size_HS
Shield_Strength = Strength_Tech x Size_HS x sqrt(Size_HS / 10)  (for generators > 1 HS)
Shield_EM_Signature = Shield_Strength x 3
```

Shields begin at zero when first activated and must recharge to full strength. Regeneration is continuous during combat. The strength formula's square root scaling means larger generators provide disproportionately more shielding per HS, but recharge at the same rate per HS regardless of size.

### Power Plant Output

```
Power_Output = Power_Tech x Size_HS x sqrt(Size_HS / 10)  (for generators > 1 HS)
Boosted_Output = Power_Output x (1 + Boost_Percentage / 100)
Explosion_Chance_When_Hit = 5% + (Boost_Percentage / 2)%  (capped at 50%)
```

Larger power plants are more space-efficient due to the same square root scaling used by shields and engines.

### Engineering MSP Storage

```
MSP_Stored = floor(12.5 x Ship_Build_Cost_BP x Engineering_Tons / Total_Ship_Tons)
```

### Annual Failure Rate

```
AFR_Without_Engineering = 0.2 x Ship_Tonnage  (percent)
AFR_With_Engineering = (0.04 / Engineering_Tonnage_Percent) x Ship_Tonnage  (percent)
```

### Shock Damage

```
Shock_Chance = Armor_Damage / Ship_Size_HS  (minimum 5% threshold; below = ignored)
Shock_Amount = Random(0 to floor(Armor_Damage x 0.20))
```

Shields completely negate shock damage. Only damage applied to armor triggers the shock check.

## A.5 Population Growth

For colony management and habitability, see [Section 5.1 Establishing Colonies](../5-colonies/5.1-establishing-colonies.md).

### Base Growth Rate

```
Annual_Growth = Population x Growth_Rate x Habitability_Modifier x Infrastructure_Modifier
```

Where:

- **Growth_Rate** = Base racial growth rate (typically 0.02 to 0.05 or 2-5% per year)
- **Habitability_Modifier** = Planet's colony cost modifier (1.0 for ideal, reduced for hostile environments)
- **Infrastructure_Modifier** = min(1.0, Infrastructure_Units / Required_Infrastructure)

### Colony Cost and Habitability

```
Colony_Cost = Sum(Environmental_Penalties)
```

Environmental penalties include:

- Temperature deviation from ideal (per degree of difference)
- Atmospheric pressure deviation
- Hostile gas presence
- Gravity deviation (minor effect)

```
Required_Infrastructure = Population x Colony_Cost
```

Without sufficient infrastructure on a hostile world, excess population suffers attrition.

### Population Capacity

```
Max_Supported_Population = Infrastructure / Colony_Cost
```

For Earth-like worlds (colony cost = 0), no infrastructure is needed and population can grow without limit.

### Growth Rate Modifiers

| Condition | Modifier |
|-----------|----------|
| Ideal planet (CC = 0) | 1.0x |
| Low infrastructure | Proportional reduction |
| Overcrowding | Growth reduced progressively |
| Governor bonus | 1 + (Admin_Skill x 0.05) |
| Genetic modification tech | Increases base racial growth rate |

### Migration

When multiple colonies exist, population can migrate between them based on:

- Relative habitability
- Available jobs (installations require workers)
- Overcrowding at source colony
- Automated migration policies set by the player

```
Migration_Rate = Base_Rate x Push_Factor x Pull_Factor
```

### Unrest and Stability

Population unrest affects productivity. Production output (factories, research, shipbuilding) is reduced by a percentage equal to the current unrest points. At 25 unrest points, all output drops by 25%.

```
Effective_Production = Base_Production x (1 - Unrest_Points / 100)
```

**Unrest Sources and Annual Point Generation:**

| Source | Annual Unrest Points | Formula |
|--------|---------------------|---------|
| Radiation | Radiation Level / 10 | e.g., radiation 1000 = 100 points/year |
| Overcrowding | 25 x (Missing Infrastructure / Available Infrastructure) | Baseline of 25 if no infrastructure at all |
| Insufficient Occupation Forces | 100 x (1 - Actual Strength / Required Strength) | 100 points if no forces present |
| Insufficient Local Defence | 25 x (1 - Total PPV / Required Protection) | Based on Population Protection Value |
| Forced Labour Construction | +5 per camp when built | Immediate, one-time addition |

**Required Occupation Strength:**
```
Required = Population x ((Determination + Militancy + Xenophobia) / 300) x Political Status Modifier
```

**Required Protection (PPV):**
```
Required = Population (millions) x (Militancy / 100) x Political Status Protection Modifier
```
Ships are evaluated by Population Protection Value (hull space allocated to weapons and hangar bays).

**Unrest Reduction:**

Natural decline (when the cause is removed):
```
Fall in Unrest Points = 20 x (1 - (Determination / 100))
```

Military suppression (when occupation strength exceeds requirement):
```
Police Strength = Actual Occupation Strength - Required Occupation Strength
Reduction in Unrest = 100 x (Police Strength / Effective Population Size)
```
Where Effective Population Size = ((Determination + Militancy + Xenophobia) / 300) x Population Amount

## Related Sections

- [Section 5.1 Establishing Colonies](../5-colonies/5.1-establishing-colonies.md) -- Population growth, colony cost, and habitability mechanics
- [Section 6.2 Mining](../6-economy-and-industry/6.2-mining.md) -- Production, mining, and refining installations
- [Section 8.3 Engines](../8-ship-design/8.3-engines.md) -- Engine, speed, and fuel consumption design parameters
- [Section 11.1 Thermal and EM Signatures](../11-sensors-and-detection/11.1-thermal-em-signatures.md) -- Sensor range and detection calculations
- [Section 12.1 Fire Controls](../12-combat/12.1-fire-controls.md) -- Beam weapons, missiles, armor, and shield combat mechanics
- [Appendix D: Reference Tables](../appendices/D-reference-tables.md) -- Quick-reference tables for minerals, installations, and technology
